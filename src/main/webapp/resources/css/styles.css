/* CSS Variables & Reset */
:root {
    /* Brand Colors (Indigo/Violet based on Dribbble trends) */
    --brand-dark: #1e1b4b;
    /* Indigo 950 */
    --brand-primary: #4338ca;
    /* Indigo 700 */
    --brand-accent: #6366f1;
    /* Indigo 500 */
    --brand-light: #e0e7ff;
    /* Indigo 100 */

    /* Legacy variables mapping for Admin/Exam */
    --primary: #1e293b;
    --accent: #6366f1;
    /* Synced with brand-accent */
    --success: #10b981;
    --error: #ef4444;
    --text-main: #0f172a;
    --text-muted: #64748b;
    --surface-glass: rgba(255, 255, 255, 0.85);
    --surface-glass-dark: rgba(255, 255, 255, 0.95);

    --shadow-soft: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-strong: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

    --font-heading: 'Outfit', sans-serif;
    --font-body: 'Inter', sans-serif;

    --radius-lg: 1rem;
    --radius-xl: 1.5rem;
}

* {
    box-sizing: border-box;
}

body {
    font-family: var(--font-body);
    margin: 0;
    min-height: 100vh;
    background-color: #f8fafc;
    color: var(--text-main);
    line-height: 1.6;
}

/* --------------------------------------------------------- */
/* LANDING PAGE - DRIBBBLE STYLE (Split Screen)              */
/* --------------------------------------------------------- */

.dribbble-layout {
    display: flex;
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    background: white;
}

/* Left Art Panel */
.art-panel {
    flex: 1;
    background: var(--brand-dark);
    position: relative;
    overflow: hidden;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 2rem 6rem;
    background: radial-gradient(circle at top right, #312e81, #1e1b4b);
}

.art-content {
    position: relative;
    z-index: 10;
    max-width: 650px;
}

.logo-area {
    position: absolute;
    top: 40px;
    left: 60px;
    display: flex;
    align-items: center;
    font-weight: 800;
    font-size: 1.2rem;
    letter-spacing: 2px;
    font-family: var(--font-heading);
}

.logo-icon {
    margin-right: 10px;
    font-size: 1.5rem;
}

.hero-text-block h1 {
    font-family: var(--font-heading);
    font-size: 4rem;
    line-height: 1.1;
    font-weight: 700;
    margin-bottom: 1.5rem;
    background: linear-gradient(to right, #fff, #a5b4fc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.hero-text-block p {
    font-size: 1.2rem;
    color: #c7d2fe;
    line-height: 1.6;
    max-width: 450px;
    margin-bottom: 2rem;
}

.hero-image-wrapper {
    position: relative;
    margin-top: 1rem;
    height: 400px;
    /* Allocated space */
    display: flex;
    align-items: center;
}

.hero-3d-scene {
    width: 110%;
    /* Overflow slightly */
    height: auto;
    max-width: 800px;
    transform: translateX(-20px) rotate(-2deg);
    filter: drop-shadow(0 30px 50px rgba(0, 0, 0, 0.4));
    transition: transform 0.5s ease;
}

.hero-3d-scene:hover {
    transform: translateX(-20px) rotate(0deg) scale(1.02);
}

.circle-decor {
    position: absolute;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--brand-accent), transparent);
    opacity: 0.15;
    filter: blur(80px);
}

.shape-1 {
    width: 600px;
    height: 600px;
    top: -150px;
    right: -200px;
}

.shape-2 {
    width: 400px;
    height: 400px;
    bottom: -50px;
    left: -100px;
}

/* Right Form Panel */
.form-panel {
    width: 45%;
    min-width: 500px;
    background: white;
    background-image: url("#{resource['images/dribbble-bg.png']}");
    /* Optional texture */
    background-size: cover;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    box-shadow: -10px 0 30px rgba(0, 0, 0, 0.05);
    /* Separation shadow */
}

.login-wrapper {
    width: 100%;
    max-width: 420px;
    padding: 2rem;
}

.login-intro {
    margin-bottom: 2.5rem;
}

.login-intro h2 {
    font-family: var(--font-heading);
    font-size: 2.5rem;
    color: var(--text-main);
    margin-bottom: 0.5rem;
    font-weight: 700;
}

.login-intro p {
    color: var(--text-muted);
    margin: 0;
}

.input-group {
    margin-bottom: 2rem;
}

.input-group label {
    display: block;
    margin-bottom: 0.8rem;
    font-weight: 600;
    font-size: 0.85rem;
    color: var(--primary-light);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.dribbble-input {
    width: 100%;
    padding: 1.2rem !important;
    border: 2px solid #e2e8f0 !important;
    border-radius: 12px !important;
    background: white !important;
    font-size: 1.1rem !important;
    font-weight: 600 !important;
    font-family: var(--font-body) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02) !important;
    transition: all 0.2s !important;
}

.dribbble-input:focus {
    border-color: var(--brand-accent) !important;
    box-shadow: 0 0 0 4px var(--brand-light) !important;
}

.dribbble-btn-primary {
    width: 100%;
    padding: 1rem !important;
    border-radius: 12px !important;
    background: var(--brand-primary) !important;
    border: none !important;
    font-family: var(--font-heading) !important;
    font-size: 1.1rem !important;
    font-weight: 700 !important;
    box-shadow: 0 10px 25px -5px var(--brand-accent) !important;
    transition: transform 0.2s !important;
}

.dribbble-btn-primary:hover {
    transform: translateY(-3px);
    background: var(--brand-accent) !important;
    box-shadow: 0 15px 35px -5px var(--brand-accent) !important;
}

.register-block {
    margin-top: 2rem;
    text-align: center;
    color: var(--text-muted);
}

.register-link {
    font-weight: 700;
    color: var(--brand-primary);
    text-decoration: none;
    margin-left: 5px;
    border-bottom: 1px dotted var(--brand-primary);
}

.footer-links {
    margin-top: 4rem;
    display: flex;
    gap: 20px;
    justify-content: center;
    font-size: 0.8rem;
}

.footer-links a {
    color: #cbd5e1;
    text-decoration: none;
    transition: color 0.2s;
}

.footer-links a:hover {
    color: var(--brand-primary);
}

.admin-link-corner {
    position: absolute;
    top: 30px;
    right: 40px;
}

.trust-badges {
    margin-top: 2rem;
    display: flex;
    gap: 1.5rem;
}

.trust-item {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(255, 255, 255, 0.1);
    padding: 8px 16px;
    border-radius: 50px;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.85rem;
    font-weight: 600;
    color: #e0e7ff;
}

/* Animations Entry */
@keyframes slideUpFade {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-entry {
    animation: slideUpFade 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-entry-del {
    animation: slideUpFade 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.2s forwards;
    opacity: 0;
}

/* --------------------------------------------------------- */
/* ADMIN & DASHBOARD (Glassmorphism + Sidebar)               */
/* --------------------------------------------------------- */

.admin-layout {
    display: flex;
    min-height: 100vh;
    background: #f8fafc;
}

.admin-sidebar {
    width: 280px;
    background: var(--primary);
    /* Use dark slate */
    color: white;
    display: flex;
    flex-direction: column;
    padding: 2rem 1rem;
    position: sticky;
    top: 0;
    height: 100vh;
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.05);
    z-index: 100;
}

.admin-logo {
    margin-bottom: 3rem;
    padding: 0 1rem;
    text-align: center;
}

.admin-logo h2 {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    font-weight: 800;
    letter-spacing: 2px;
    margin: 0;
    background: linear-gradient(135deg, white 0%, #cbd5e1 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.ui-menu {
    border: none !important;
    background: transparent !important;
    width: 100% !important;
}

.ui-menuitem-link {
    border-radius: 8px !important;
    margin-bottom: 5px !important;
    padding: 10px 15px !important;
    transition: all 0.2s !important;
}

.ui-menuitem-text {
    color: #cbd5e1 !important;
    font-weight: 500 !important;
    font-family: var(--font-body) !important;
}

.ui-menuitem-icon {
    color: #94a3b8 !important;
}

.ui-menuitem-link:hover,
.ui-state-hover {
    background: rgba(255, 255, 255, 0.1) !important;
    box-shadow: none !important;
}

.ui-menuitem-link:hover .ui-menuitem-text,
.ui-menuitem-link:hover .ui-menuitem-icon {
    color: white !important;
}

.active-menu-item .ui-menuitem-link {
    background: var(--brand-accent) !important;
    color: white !important;
}

.admin-content {
    flex: 1;
    padding: 2rem 3rem;
    overflow-y: auto;
}

.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2.5rem;
}

.page-title {
    font-family: var(--font-heading);
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary);
    margin: 0 0 0.5rem 0;
}

/* Stats */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 16px;
    box-shadow: var(--shadow-soft);
    border: 1px solid #f1f5f9;
    transition: transform 0.2s;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-strong);
}

.stat-value {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--primary);
    line-height: 1;
    margin-bottom: 0.5rem;
    font-family: var(--font-heading);
}

.stat-label {
    text-transform: uppercase;
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 1px;
    color: var(--text-muted);
}

/* Tables */
.premium-table .ui-datatable {
    border: none !important;
}

.ui-datatable thead th {
    background: white !important;
    color: var(--text-muted) !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    font-size: 0.75rem !important;
    padding: 1.2rem 1rem !important;
    border: none !important;
    border-bottom: 2px solid #f1f5f9 !important;
}

.ui-datatable tbody td {
    padding: 1.2rem 1rem !important;
    border: none !important;
    border-bottom: 1px solid #f8fafc !important;
    color: var(--primary) !important;
    vertical-align: middle;
}

.ui-datatable-header {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
}

/* --------------------------------------------------------- */
/* SHARED / FORMS / EXAM                                     */
/* --------------------------------------------------------- */

.full-screen-center {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    background: #f1f5f9;
}

.login-card,
.form-card {
    /* Legacy / Secondary forms */
    background: white;
    border-radius: 20px;
    padding: 3rem;
    box-shadow: var(--shadow-strong);
    width: 100%;
}

.glass-panel {
    /* Optional backdrop for modal-like forms */
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
}

.input-lg {
    /* Standard inputs for internal forms */
    width: 100%;
    padding: 1rem !important;
    border-radius: 10px !important;
    border: 1px solid #cbd5e1 !important;
    font-size: 1rem !important;
}

.btn-primary-lg {
    width: 100%;
    padding: 0.8rem 1.5rem !important;
    border-radius: 10px !important;
    background: var(--brand-accent) !important;
    font-weight: 600 !important;
    border: none !important;
}

/* Responsive Hacks */
@media (max-width: 1024px) {
    .dribbble-layout {
        flex-direction: column;
        overflow-y: auto;
    }

    .art-panel {
        min-height: 50vh;
        padding: 3rem;
        text-align: center;
    }

    .art-content {
        margin: 0 auto;
    }

    .hero-image-wrapper {
        justify-content: center;
    }

    .form-panel {
        width: 100%;
        min-height: 50vh;
    }

    .hero-3d-scene {
        width: 80%;
        transform: rotate(0);
    }

    .logo-area {
        top: 20px;
        left: 20px;
    }

    .admin-link-corner {
        top: 20px;
        right: 20px;
    }
}

/* --------------------------------------------------------- */
/* PREMIUM EXAM LAYOUT (Glassmorphism & Dribbble)            */
/* --------------------------------------------------------- */

.exam-body {
    background: #f8fafc;
    /* Fallback */
    background: radial-gradient(circle at 10% 20%, rgb(239, 246, 255) 0%, rgb(255, 255, 255) 90%);
    min-height: 100vh;
    font-family: var(--font-body);
    margin: 0;
}

.exam-layout-grid {
    display: grid;
    grid-template-columns: 320px 1fr;
    min-height: 100vh;
}

/* SIDEBAR PROFIL & PROGRESSION */
.exam-sidebar {
    background: white;
    border-right: 1px solid #e2e8f0;
    padding: 2.5rem 2rem;
    display: flex;
    flex-direction: column;
    position: sticky;
    top: 0;
    height: 100vh;
    z-index: 10;
    box-shadow: 4px 0 24px rgba(0, 0, 0, 0.02);
}

.candidat-profile {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2.5rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid #f1f5f9;
}

.candidat-avatar {
    width: 52px;
    height: 52px;
    background: var(--brand-accent);
    color: white;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.4rem;
    box-shadow: 0 8px 16px rgba(99, 102, 241, 0.25);
}

.candidat-info h4 {
    margin: 0;
    font-size: 1.1rem;
    color: var(--primary);
    font-family: var(--font-heading);
    font-weight: 700;
}

.candidat-info span {
    font-size: 0.9rem;
    color: var(--text-muted);
}

.progression-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    font-weight: 600;
    color: var(--primary);
}

.question-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.8rem;
    margin-top: 1.5rem;
}

.q-badge {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    background: #f8fafc;
    color: #94a3b8;
    font-weight: 700;
    font-size: 0.9rem;
    border: 1px solid #e2e8f0;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.q-badge::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.2);
    opacity: 0;
    transition: opacity 0.2s;
}

.q-badge:hover {
    transform: translateY(-2px);
    border-color: #cbd5e1;
}

.q-badge.active {
    background: var(--brand-primary);
    color: white;
    border-color: var(--brand-primary);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
    transform: scale(1.1);
    z-index: 2;
}

.q-badge.answered {
    background: #e0e7ff;
    /* indigo-100 */
    color: var(--brand-primary);
    border-color: #c7d2fe;
}

/* MAIN CONTENT AREA */
.exam-main {
    padding: 3rem 6rem;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
}

/* TIMER PILL */
.timer-pill {
    position: absolute;
    top: 3rem;
    right: 4rem;
    background: white;
    padding: 0.8rem 1.5rem;
    border-radius: 50px;
    display: flex;
    align-items: center;
    gap: 1rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    /* Premium soft shadow */
    border: 1px solid rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    font-family: 'Outfit', sans-serif;
    /* Use Outfit for numbers too if available, or monospaced */
    font-weight: 700;
    font-size: 1.2rem;
    color: var(--primary);
    z-index: 20;
}

.timer-icon {
    color: var(--brand-accent);
    font-size: 1.2rem;
}

.timer-pill.urgent {
    border-color: #fecaca;
    color: #ef4444;
    background: #fef2f2;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
    }

    70% {
        box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
    }
}

/* QUESTION CARD */
.question-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(12px);
    padding: 4rem;
    border-radius: 32px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.02);
    border: 1px solid white;
    position: relative;
    overflow: hidden;
}

/* Decorative background blur inside card */
.question-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 80%;
    height: 100%;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.04) 0%, transparent 70%);
    pointer-events: none;
}

.question-header {
    margin-bottom: 3rem;
    position: relative;
    z-index: 1;
}

.question-number {
    text-transform: uppercase;
    font-size: 0.85rem;
    letter-spacing: 2px;
    font-weight: 800;
    color: var(--brand-accent);
    background: #e0e7ff;
    padding: 6px 14px;
    border-radius: 20px;
    display: inline-block;
    margin-bottom: 1.5rem;
}

.question-text {
    font-family: var(--font-heading);
    font-size: 2rem;
    color: var(--primary);
    line-height: 1.3;
    font-weight: 700;
    letter-spacing: -0.5px;
}

/* ANSWERS STYLING */
.answers-list {
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
    position: relative;
    z-index: 1;
}

/* Use standard PrimeFaces/JSF classes to target */
/* We will structure the XHTML to wrapping divs that we can style generally */

.answer-item-wrapper {
    position: relative;
}

.answer-card-label {
    display: flex;
    align-items: center;
    padding: 1.5rem;
    background: #f8fafc;
    border: 2px solid #f1f5f9;
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    font-size: 1.1rem;
    font-weight: 500;
    color: var(--text-main);
}

.answer-card-label:hover {
    background: white;
    border-color: #cbd5e1;
    transform: translateX(6px);
}

/* When the RADIO inside is checked... this is tricky with JSF generated IDs.
   We will rely on specific class application or JS if needed, but lets try Clean CSS.
   If we put the <h:selectOneRadio> inside, we might struggle to style the parent label based on child state without :has() support (which is getting better but not 100%).
   INSTEAD, we will use a custom structure in XHTML: <ui:repeat> with manual radio buttons or p:selectOneRadio with 'custom' layout.
   Let's stick to standard h:selectOneRadio for simplicity of binding, but maybe use a script to add 'active' classes or just styling the inputs themselves.
   
   Actually, the best way for JSF is using <h:selectOneRadio layout="pageDirection" styleClass="hidden-radio" .../>
   and then styling the labels? No, JSF generates tables or lists.
   
   Better: <ui:repeat> over the SelectItem list if possible? 
   No, we have a list of Question.responses.
   We can use <ui:repeat value="#{q.reponses}" var="r">
      <div class="answer-option">
          <p:radioButton ... /> or standard radio.
   This allows full control.
*/

/* ACTIONS FOOTER */
.exam-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 4rem;
    align-items: center;
    padding-top: 2rem;
    border-top: 1px solid rgba(0, 0, 0, 0.03);
}

/* BUTTONS */
.btn-nav {
    display: inline-flex;
    align-items: center;
    gap: 0.8rem;
    padding: 1rem 2rem;
    border-radius: 14px;
    font-weight: 700;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    font-family: var(--font-body);
    font-size: 1rem;
    text-decoration: none;
    border: none;
}

.btn-prev {
    background: transparent;
    color: var(--text-muted);
    border: 2px solid transparent;
    /* invisible border for layout stability */
}

.btn-prev:hover {
    color: var(--primary);
    background: #f1f5f9;
}

.btn-next {
    background: var(--brand-primary);
    color: white;
    box-shadow: 0 10px 20px -5px rgba(99, 102, 241, 0.4);
}

.btn-next:hover {
    background: var(--brand-accent);
    transform: translateY(-3px);
    box-shadow: 0 15px 30px -5px rgba(99, 102, 241, 0.5);
}

.btn-finish {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    box-shadow: 0 10px 20px -5px rgba(16, 185, 129, 0.4);
}

.btn-finish:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 30px -5px rgba(16, 185, 129, 0.5);
}

@media (max-width: 1024px) {
    .exam-layout-grid {
        grid-template-columns: 1fr;
    }

    .exam-sidebar {
        display: none;
        /* Hidden on mobile for now, or move to bottom/drawer */
    }

    .exam-main {
        padding: 2rem;
    }

    .question-card {
        padding: 2rem;
    }

    .question-text {
        font-size: 1.5rem;
    }
}